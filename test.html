<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

<script type="text/javascript">
	var arr = [1,2,3,4,5,6,7];
	var num = 0;

	function binarySearch(value, arr, start, end){
		num++;
		var len        = arr.length,
        startIndex = typeof start === "number" ? start : 0,
        endIndex   = typeof end   === "number" ? end  : len-1,
        midIndex   = Math.floor((startIndex + endIndex) / 2),
        midval     = arr[midIndex];

        if(startIndex > endIndex){
        	return false;
        }

        if(midval === value){
        	console.log(midIndex)
        	return midIndex;
        }else if(midval > value){
        	return binarySearch(value, arr, startIndex, midIndex -1);
        }else if(midval < value){
        	return binarySearch(value, arr, midIndex + 1, endIndex);
        }

	}
	var VI = binarySearch(5,arr);
	console.log(VI, num);

	//二分插入排序
	function binaryInsertSort(arr){
		for(var i=1,len=arr.length; i<len; i++){
			var key = arr[i];
			var left = 0;
			var right = i - 1;

			while(left < right){
				var middle = parseInt((left + right) / 2);
				if(key < arr[middle]){
					right = middle - 1;
				}else{
					left = middle + 1;
				}
			}
			console.log(left)
			for (var j = i - 1; j >= left; j--) {
		      	arr[j + 1] = arr[j];
		    }

		    arr[left] = key;
		}

		return arr;
	}
	arr = [2,1,4,5,3,9,7,8];
	console.log(binaryInsertSort(arr));
</script>
</body>
</html>